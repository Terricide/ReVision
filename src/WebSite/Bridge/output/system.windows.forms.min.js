(function(){"use strict";Bridge.define("System.Windows.Forms.AnchorStyles",{statics:{none:0,left:1,top:2,right:4,bottom:8},$enum:!0,$flags:!0});Bridge.define("System.Windows.Forms.AutoScaleMode",{statics:{none:0,font:1,dpi:2,inherit:3},$enum:!0});Bridge.define("System.Windows.Forms.IObservableItem");Bridge.define("System.Windows.Forms.DockStyle",{statics:{none:0,left:1,right:2,top:3,bottom:4,fill:5},$enum:!0});Bridge.define("System.Windows.Forms.ObservableItemPropertyChangedArgs",{property:null,subject:null,constructor:function(strProperty){this.property=strProperty},constructor$1:function(strProperty,objSubject){System.Windows.Forms.ObservableItemPropertyChangedArgs.prototype.$constructor.call(this,strProperty);this.subject=objSubject},getProperty:function(){return this.property},getSubject:function(){return this.subject}});Bridge.define("System.Windows.Forms.WSEventArgs",{clientId:null,eventType:null,value:null});Bridge.define("System.Windows.Forms.Component",{inherits:[Bridge.IDisposable,System.Windows.Forms.IObservableItem],mClientId:null,config:{events:{Disposed:null,ObservableItemPropertyChanged:null,PropertyChanged:null},properties:{ControlName:null,Tag:null}},getClientId:function(){return this.mClientId},setClientId:function(value){this.mClientId!==value&&(this.mClientId=value,this.raisePropertyChanged("ClientId",value))},dispose:function(){throw new Bridge.NotImplementedException;},fireEvent:function(){var $step=0,$tcs=new Bridge.TaskCompletionSource,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=Bridge.Array.min([0],$step);switch($step){case 0:$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=Bridge.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},raisePropertyChanged:function(propName,val){var $step=0,$task1,$tcs=new Bridge.TaskCompletionSource,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=Bridge.Array.min([0,1],$step);switch($step){case 0:Bridge.hasValue(this.PropertyChanged)&&this.PropertyChanged(this,new Bridge.PropertyChangedEventArgs(propName));$task1=this.fireEvent(Bridge.merge(new System.Windows.Forms.WSEventArgs,{clientId:this.getClientId(),eventType:"PropertyChanged",value:{name:propName,value:val}}));$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=Bridge.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}});Bridge.define("System.Windows.Forms.Control",{inherits:[System.Windows.Forms.Component],element:null,labelElement:null,mBackColor:null,controls:null,mAnchor:3,mControls:null,mDock:0,mText:null,mLocation:null,mSize:null,mVisible:!0,config:{events:{Resize:null,Click:null,TextChanged:null},properties:{Parent:null,ParentId:null,BackgroundImage:null,TabIndex:0,Name:null,AutoSize:!1},init:function(){this.element=document.createElement("div");this.labelElement=document.createElement("span");this.mSize=new System.Drawing.Size(300,300)}},getBackColor:function(){return this.mBackColor},setBackColor:function(value){this.mBackColor!==value&&(this.mBackColor=value,this.raisePropertyChanged("BackColor",value))},getAnchor:function(){return this.mAnchor},setAnchor:function(value){this.mAnchor!==value&&(this.mAnchor=value,this.raisePropertyChanged("Anchor",value))},getDock:function(){return this.mDock},setDock:function(value){this.mDock!==value&&(this.mDock=value,this.raisePropertyChanged("Dock",value))},getText:function(){return this.mText},setText:function(value){this.mText!==value&&(this.mText=value,this.raisePropertyChanged("Text",value),Bridge.hasValue(this.TextChanged)&&this.TextChanged(this,Object.empty))},getHandle:function(){return Bridge.Convert.toInt32(this.getClientId())},getLocation:function(){return this.mLocation},setLocation:function(value){this.mLocation!==value&&(this.mLocation=value,this.raisePropertyChanged("Location",value))},getSize:function(){return this.mSize},setSize:function(value){System.Drawing.Size.op_Inequality(this.mSize,value)&&(this.mSize=value,this.raisePropertyChanged("Size",value),Bridge.hasValue(this.Resize)&&this.Resize(this,Object.empty))},getRight:function(){return Bridge.hasValue(this.getParent())?this.getLocation().x+this.getSize().width:-1},getBottom:function(){return Bridge.hasValue(this.getParent())?this.getLocation().y+this.getSize().height:-1},getTop:function(){return Bridge.hasValue(this.getParent())?this.getLocation().y:-1},getLeft:function(){return Bridge.hasValue(this.getParent())?this.getLocation().x:-1},getWidth:function(){return this.getSize().width},getHeight:function(){return this.getSize().height},getClientSize:function(){return this.getSize()},getVisible:function(){return this.mVisible},setVisible:function(value){this.mVisible!==value&&(this.mVisible=value,this.raisePropertyChanged("Visible",value))},controls_CollectionChanged:function(sender,e){var $t,$t1,ctrl,ctrl1;if(e.getAction()===System.Collections.Specialized.NotifyCollectionChangedAction.add)for($t=Bridge.getEnumerator(e.getNewItems());$t.moveNext();)ctrl=$t.getCurrent(),ctrl.setParent(this);else if(e.getAction()===System.Collections.Specialized.NotifyCollectionChangedAction.remove)for($t1=Bridge.getEnumerator(e.getOldItems());$t1.moveNext();)ctrl1=$t1.getCurrent()},render:function(){var $t,width,height,height1,width1,height2,width2,ctrl;if(this.element.id="WU_"+this.getClientId(),this.element.style.backgroundColor=this.getBackColor(),this.labelElement.innerHTML=this.getText(),this.element.style.visibility=this.getVisible()?"visible":"hidden",Bridge.hasValue(this.getParent())){var rightSet=!1,leftSet=!1,topSet=!1,bottomSet=!1;Bridge.Enum.hasFlag(this.getAnchor(),System.Windows.Forms.AnchorStyles.right)&&(rightSet=!0);Bridge.Enum.hasFlag(this.getAnchor(),System.Windows.Forms.AnchorStyles.left)&&(leftSet=!0);Bridge.Enum.hasFlag(this.getAnchor(),System.Windows.Forms.AnchorStyles.bottom)&&(topSet=!0);Bridge.Enum.hasFlag(this.getAnchor(),System.Windows.Forms.AnchorStyles.top)&&(bottomSet=!0);!topSet||rightSet||leftSet||bottomSet||(width=this.getParent().getWidth(),this.getLocation().x=Bridge.Int.div(width,2)-Bridge.Int.div(this.getWidth(),2));bottomSet&&topSet&&!rightSet&&!leftSet&&(height=this.getParent().getHeight(),this.getLocation().y=Bridge.Int.div(height,2)-Bridge.Int.div(this.getHeight(),2));bottomSet&&leftSet&&!topSet&&!rightSet&&(height1=this.getParent().getHeight(),this.getLocation().y=height1-this.getHeight());bottomSet&&rightSet&&!topSet&&!leftSet&&(width1=this.getParent().getWidth(),this.getLocation().x=width1-this.getWidth(),height2=this.getParent().getHeight(),this.getLocation().y=height2-this.getHeight());topSet&&rightSet&&!leftSet&&!bottomSet&&(width2=this.getParent().getWidth(),this.getLocation().x=width2-this.getWidth());this.element.style.position=this.getDock()!==System.Windows.Forms.DockStyle.fill?"absolute":"relative"}else this.element.style.position="absolute";switch(this.getDock()){case System.Windows.Forms.DockStyle.none:this.element.style.width=this.getWidth()+"px";this.element.style.height=this.getHeight()+"px";this.element.style.top=this.getLocation().x+"px";this.element.style.left=this.getLocation().y+"px";break;case System.Windows.Forms.DockStyle.left:this.element.style.left="0px";this.element.style.width=this.getWidth()+"px";this.element.style.height="100%";break;case System.Windows.Forms.DockStyle.right:this.element.style.right="0px";this.element.style.width=this.getWidth()+"px";this.element.style.height="100%";break;case System.Windows.Forms.DockStyle.top:this.element.style.top="0px";this.element.style.height=this.getHeight()+"px";this.element.style.width="100%";break;case System.Windows.Forms.DockStyle.bottom:this.element.style.bottom="0px";this.element.style.height=this.getHeight()+"px";this.element.style.width="100%";break;case System.Windows.Forms.DockStyle.fill:this.element.style.right="0px";this.element.style.bottom="0px";this.element.style.left="0px";this.element.style.top="0px";this.element.style.height="100%";this.element.style.width="100%"}for(Bridge.hasValue(this.getParent())?this.getParent().element.appendChild(this.element):(this.element.style.height="100%",this.element.style.width="100%"),$t=Bridge.getEnumerator(this.getControls());$t.moveNext();)ctrl=$t.getCurrent(),ctrl.render();Bridge.hasValue(this.getParent())&&this.reAlignControls(this.getParent(),this)},getControls:function(){var $t,ctrl,ctrl1,tc;if(!Bridge.hasValue(this.mControls)){if(this.mControls=new Bridge.List$1(System.Windows.Forms.Control)(),this.controls.length===0)return this.mControls;for($t=Bridge.getEnumerator(this.controls);$t.moveNext();){ctrl=$t.getCurrent();ctrl1=Bridge.merge(new System.Windows.Forms.Control,JSON.parse(JSON.stringify(ctrl)));switch(ctrl1.getControlName()){case"TabControl":tc=Bridge.merge(new System.Windows.Forms.TabControl,JSON.parse(JSON.stringify(ctrl)));ctrl1=tc;break;default:ctrl1=Bridge.merge(new System.Windows.Forms.Control,JSON.parse(JSON.stringify(ctrl)))}ctrl1.setParent(this);this.mControls.add(ctrl1)}}return this.mControls},reAlignControls:function(parent,current){var $t,$t1,$t2,$t3,childControls=parent.getControls(),top=0,left=0,bottom=0,right=0,child,ctrlWidth,ctrlLeft,child1,child2,ctrlTop,ctrlTop1,ctrlHeight,child3,ctrlTop2,ctrlHeight1;switch(current.getDock()){case System.Windows.Forms.DockStyle.left:for(left=current.getWidth(),$t=Bridge.getEnumerator(childControls);$t.moveNext();)if(child=$t.getCurrent(),child.getClientId()!==current.getClientId())switch(child.getDock()){case System.Windows.Forms.DockStyle.bottom:case System.Windows.Forms.DockStyle.top:case System.Windows.Forms.DockStyle.fill:ctrlWidth=this.getInt(child.element.style.width);ctrlLeft=this.getInt(child.element.style.left);child.element.style.left=ctrlLeft+left+"px";child.element.style.width=ctrlWidth-ctrlLeft-left+"px"}break;case System.Windows.Forms.DockStyle.right:for(right=current.getWidth(),$t1=Bridge.getEnumerator(childControls);$t1.moveNext();)if(child1=$t1.getCurrent(),child1.getClientId()!==current.getClientId())switch(child1.getDock()){case System.Windows.Forms.DockStyle.top:case System.Windows.Forms.DockStyle.bottom:case System.Windows.Forms.DockStyle.fill:var ctrlWidth1=this.getInt(child1.element.style.width),ctrlLeft1=this.getInt(child1.element.style.left),newWidth=ctrlWidth1-right-ctrlLeft1;child1.element.style.width=newWidth+"px"}break;case System.Windows.Forms.DockStyle.top:for(top=current.getHeight(),$t2=Bridge.getEnumerator(childControls);$t2.moveNext();)if(child2=$t2.getCurrent(),child2.getClientId()!==current.getClientId())switch(child2.getDock()){case System.Windows.Forms.DockStyle.top:ctrlTop=this.getInt(child2.element.style.top);child2.element.style.top=ctrlTop+top+"px";break;case System.Windows.Forms.DockStyle.fill:ctrlTop1=this.getInt(child2.element.style.top);ctrlHeight=this.getInt(child2.element.style.height);child2.element.style.top=ctrlTop1+top+"px";child2.element.style.height=ctrlHeight-top+"px"}break;case System.Windows.Forms.DockStyle.bottom:for(bottom=current.getHeight(),$t3=Bridge.getEnumerator(childControls);$t3.moveNext();)if(child3=$t3.getCurrent(),child3.getClientId()!==current.getClientId())switch(child3.getDock()){case System.Windows.Forms.DockStyle.bottom:ctrlTop2=this.getInt(child3.element.style.top);child3.element.style.top=ctrlTop2-bottom+"px";break;case System.Windows.Forms.DockStyle.fill:ctrlHeight1=this.getInt(child3.element.style.height);child3.element.style.height=ctrlHeight1-bottom+"px"}}},getInt:function(px){return Bridge.String.endsWith(px,"px")&&(px=px.substr(0,px.length-2)),Bridge.Int.parseInt(px,-2147483648,2147483647)}});Bridge.define("System.Windows.Forms.ControlsCollection",{inherits:[Bridge.List$1(System.Windows.Forms.Control)],config:{events:{CollectionChanged:null},properties:{Parent:null}},constructor:function(parent){Bridge.List$1(System.Windows.Forms.Control).prototype.$constructor.call(this);this.setParent(parent);this.addCollectionChanged(Bridge.fn.bind(this,this.controlsCollection_CollectionChanged1))},getItem$1:function(ctrlName){return Bridge.Linq.Enumerable.from(this).where(function(n){return n.getName()===ctrlName}).firstOrDefault(null,Bridge.getDefaultValue(System.Windows.Forms.Control))},controlsCollection_CollectionChanged1:function(sender,e){var $t,$t1,ctrl,ctrl1;if(e.getAction()===System.Collections.Specialized.NotifyCollectionChangedAction.add)for($t=Bridge.getEnumerator(e.getNewItems());$t.moveNext();)ctrl=$t.getCurrent(),ctrl.setParent(this.getParent());else if(e.getAction()===System.Collections.Specialized.NotifyCollectionChangedAction.remove)for($t1=Bridge.getEnumerator(e.getOldItems());$t1.moveNext();)ctrl1=$t1.getCurrent(),ctrl1.setParent(null)}});Bridge.define("System.Windows.Forms.Form",{inherits:[System.Windows.Forms.Control],showDialog:function(){this.render()}});Bridge.define("System.Windows.Forms.TabControl",{inherits:[System.Windows.Forms.Control]});Bridge.init()})(this);